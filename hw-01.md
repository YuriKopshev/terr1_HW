# Домашнее задание к занятию «Введение в Terraform - Копшев Ю.В»


------

### Задание 1

1. Перейдите в каталог [**src**](https://github.com/netology-code/ter-homeworks/tree/main/01/src). Скачайте все необходимые зависимости, использованные в проекте. - готово!

2. Изучите файл **.gitignore**. В каком terraform-файле, согласно этому .gitignore, допустимо сохранить личную, секретную информацию?(логины,пароли,ключи,токены итд)

ОТВЕТ: сохранить секретную информацию в файле  personal.auto.tfvars 

3. Выполните код проекта. Найдите  в state-файле секретное содержимое созданного ресурса **random_password**, пришлите в качестве ответа конкретный ключ и его 
значение.

ОТВЕТ: "result": "czAYRsPCZkBYEO3z"

4. Раскомментируйте блок кода, примерно расположенный на строчках 29–42 файла **main.tf**.
Выполните команду ```terraform validate```. Объясните, в чём заключаются намеренно допущенные ошибки. Исправьте их.

ОТВЕТ:
	1.	 docker_image.nginx.image_id  → нет ресурса  docker_image.nginx 
	2.	 random_password.random_string_FAKE.resulT  → должно быть  random_password.random_string.result
   
5. Выполните код. В качестве ответа приложите: исправленный фрагмент кода и вывод команды ```docker ps```.

ОТВЕТ: ![скриншот1]()

6. Замените имя docker-контейнера в блоке кода на ```hello_world```. Не перепутайте имя контейнера и имя образа. Мы всё ещё продолжаем использовать name = "nginx:latest". Выполните команду ```terraform apply -auto-approve```. - готово!

7. Объясните своими словами, в чём может быть опасность применения ключа  ```-auto-approve```. Догадайтесь или нагуглите зачем может пригодиться данный ключ? В качестве ответа дополнительно приложите вывод команды ```docker ps```.

ОТВЕТ: Опсаность заключается втом, что "-auto-approve" жожет удалить/изменить критичную инфраструктуру без подтверждения
![скриншот2]()

8. Уничтожьте созданные ресурсы с помощью **terraform**. Убедитесь, что все ресурсы удалены. Приложите содержимое файла **terraform.tfstate**. 

ОТВЕТ: ![скриншот3]()

9. Объясните, почему при этом не был удалён docker-образ **nginx:latest**. Ответ **ОБЯЗАТЕЛЬНО НАЙДИТЕ В ПРЕДОСТАВЛЕННОМ КОДЕ**, а затем **ОБЯЗАТЕЛЬНО ПОДКРЕПИТЕ** строчкой из документации [**terraform провайдера docker**](https://library.tf/providers/kreuzwerker/docker/latest).  (ищите в классификаторе resource docker_image )

ОТВЕТ: образ НЕ удаляется при  terraform destroy . Подтверждение из документации Docker Provider:
keep_locally (Boolean) If true, then the Docker image won’t be removed when the resource is destroyed. Default: false.
keep_locally = true, то есть образ остаётся локально навсегда.

------


